{"version":3,"names":[],"mappings":"","sources":["common.js"],"sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  nav();\r\n  scrollInit();\r\n  map();\r\n  cover();\r\n  tabs();\r\n  $(\".input_phone\").mask(\"(999) 999-99-99\");\r\n  new WOW().init();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n$(window).on('scroll', function() {\r\n  scrollTop = $(window).scrollTop();\r\n})\r\n\r\n\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth(),\r\n    scrollbarWidth,\r\n    scrollTop = $(window).scrollTop(),\r\n    //scroll-styling\r\n    cursorcolorVar = \"#cccccc\",\r\n    cursorwidthVar = \"7px\",\r\n    cursorborderVar = \"0\",\r\n    cursorborderradiusVar = \"0\",\r\n    zindexVar = [100],\r\n    bouncescrollVar = false;\r\n\r\n\r\n//\r\nfunction scrollInit() {\r\n  $('.scroll-area').niceScroll('.scroll-area__content', {\r\n    cursorcolor: cursorcolorVar,\r\n    cursorwidth: cursorwidthVar,\r\n    cursorborder: cursorborderVar,\r\n    cursorborderradius: cursorborderradiusVar,\r\n    zindex: zindexVar,\r\n    bouncescroll: bouncescrollVar,\r\n    autohidemode: false\r\n  });\r\n};\r\n//\r\nfunction compensateScrollbar() { \r\n  var div = $('<div style=\"height:100px; position: fixed; width: 100vw;\"></div>'); \r\n  $('body').append(div); \r\n  var w1 = div.width(); \r\n  div.css('width', '100%'); \r\n  var w2 = div.width(); \r\n  $(div).remove();\r\n  scrollbarWidth = w1 - w2;\r\n}\r\n\r\n//nav\r\nfunction nav() {\r\n  var $navOpen = $('.nav-open'),\r\n    $navClose = $('.nav-close'),\r\n    $nav = $('.nav'),\r\n    $overlay = $('.overlay');\r\n\r\n  $navOpen.on('click', function (e) {\r\n    e.preventDefault();\r\n    $nav.toggleClass('nav_active');\r\n    navState();\r\n  })\r\n  $navClose.on('click', function (e) {\r\n    e.preventDefault();\r\n    $nav.removeClass('nav_active');\r\n    navState();\r\n  })\r\n  $overlay.on('click touchstart', function () {\r\n    $nav.removeClass('nav_active');\r\n    navState();\r\n  })\r\n  \r\n  function navState() {\r\n    if ($nav.hasClass('nav_active')) {\r\n      compensateScrollbar();\r\n      $(\".compensate-scrollbar\").css('padding-right', scrollbarWidth);\r\n      $(\".nav\").css('margin-right', 0);\r\n      $('.scroll-area').getNiceScroll().resize();\r\n      $('.header').addClass('active');\r\n      scrollLock.hide($(\"body\"));\r\n      $overlay.fadeIn(300);\r\n    } else {\r\n      $(\".compensate-scrollbar\").css('padding-right', '0');\r\n      $(\".nav\").css('margin-right', -(scrollbarWidth));\r\n      scrollLock.show($(\"body\"));\r\n      $('.header').removeClass('active');\r\n      $overlay.fadeOut(300);\r\n    }\r\n  }\r\n  if (scrollTop>20) {\r\n    $('.header, .nav').addClass('scrolled');\r\n  } else {\r\n    $('.header, .nav').removeClass('scrolled');\r\n  }\r\n  \r\n  $(window).on('scroll', function() {\r\n    if (scrollTop>20) {\r\n      $('.header, .nav').addClass('scrolled');\r\n    } else {\r\n      $('.header, .nav').removeClass('scrolled');\r\n    }\r\n  })\r\n\r\n}\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    effect: 'fadeIn',\r\n    effectTime: '300',\r\n    defaultImage: false,\r\n    afterLoad: function() {\r\n      cover();\r\n    }\r\n  });\r\n}\r\n\r\nfunction map() {\r\n  var $region = $('*[data-item]'),\r\n  flag,\r\n  attr;\r\n\r\n  $(document).on('click mousemove touchstart', function (e) {\r\n    if (!$region.is(e.target) && $region.has(e.target).length === 0) {\r\n      $region.removeClass('active');\r\n    } else if ($region.is(e.target)) {\r\n      $region.removeClass('active');\r\n      attr = $(e.target).data('item');\r\n      $(`*[data-item='${attr}']`).addClass('active');\r\n    }\r\n  });\r\n}\r\n//js\r\nfunction cover() {\r\n  $('.cover-box').each(function () {\r\n    //set size\r\n    var th = $(this).height(), //box height\r\n      tw = $(this).width(), //box width\r\n      im = $(this).children('img'), //image\r\n      ih = im.height(),\r\n      iw = im.width();\r\n\r\n    if ((tw / th) >= (iw / ih)) {\r\n      im.addClass('ww').removeClass('wh');\r\n    } else {\r\n      im.addClass('wh').removeClass('ww');\r\n    }\r\n  });\r\n}\r\n\r\nfunction tabs() {\r\n  var $tabButton = $('.fixed-area-nav-item__container'),\r\n      tabId;\r\n\r\n  function tabState() {\r\n    $tabButton.each(function() {\r\n      if($(this).hasClass('active')) {\r\n        tabId = $(this).attr('data-tab');\r\n        $('.tab-item').hide().eq(tabId - 1).fadeIn(300);\r\n        $('.tab-bg').eq(tabId - 1).fadeIn(500);\r\n        $('.tab-bg').not(`[data-tab='${tabId}']`).fadeOut(300);\r\n        $('.scroll-area').getNiceScroll().resize();\r\n        $(\".fixed-area__section_content .scroll-area\").getNiceScroll().doScrollPos(0,0);\r\n        lazy();\r\n      }\r\n    })\r\n  }\r\n\r\n  tabState();\r\n  \r\n  $tabButton.on('click', function(e) {\r\n    e.preventDefault();\r\n    $tabButton.removeClass('active');\r\n    $(this).addClass('active');\r\n    tabState();\r\n    if(innerWidth <= 576) {\r\n      var $target = $('.fixed-area__content_right').offset().top - 60;\r\n        $('body,html').animate({scrollTop: $target}, 500);\r\n    }\r\n  })\r\n  \r\n}"],"file":"../common.min.js"}